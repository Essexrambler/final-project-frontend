"use strict";function Auth(t,e){t.loginUrl=e+"/login",t.signupUrl=e+"/register",t.tokenPrefix=""}function Adopt(t,e){return new t(e+"/adopts/:id",{id:"@id"},{update:{method:"PUT"}})}function AdoptsIndexController(t){var e=this;e.all=t.query()}function AdoptsShowController(t,e){function o(){r.adopt.$remove(function(){e.go("adoptsIndex")})}var r=this;r.adopt=t.get(e.params),r.delete=o}function AdoptsEditController(t,e){function o(){r.adopt.$update(function(){e.go("adoptsShow",e.params)})}var r=this;r.adopt=t.get(e.params),this.update=o}function Animal(t,e){return new t(e+"/animals/:id",{id:"@id"},{update:{method:"PUT"}})}function AnimalsIndexController(t){var e=this;e.all=t.query()}function AnimalsShowController(t,e,o){function r(){n.animal.$remove(function(){e.go("animalsIndex")})}function l(){o.save(n.newAdoption,function(t){e.go("adoptsShow",{id:t.id})})}var n=this;n.animal=t.get(e.params),n.delete=r,n.newAdoption={animal_id:e.params.id},n.adopt=l}function AnimalsEditController(t,e){function o(){r.animal.$update(function(){e.go("animalsShow",e.params)})}var r=this;r.animal=t.get(e.params),this.update=o}function RegisterController(t,e){function o(){t.signup(r.user).then(function(){e.go("login")})}var r=this;r.user={},r.submit=o}function LoginController(t,e){function o(){t.login(r.credentials).then(function(){e.go("usersIndex")})}var r=this;r.credentials={},r.submit=o}function MainController(t,e,o){function r(){t.logout().then(function(){e.go("usersIndex"),n.message="You must be logged in to go there!"})}function l(o,r){n.message=null,console.log(r),!t.isAuthenticated()&&s.includes(r.name)&&(o.preventDefault(),n.message="You must be logged in to go there!",e.go("login")),t.isAuthenticated()&&(n.currentUserId=t.getPayload().id)}var n=this;console.log("loaded"),n.isLoggedIn=t.isAuthenticated,n.message=null;var s=["usersEdit","usersNew"];o.$on("$stateChangeStart",l),n.logout=r}function Router(t,e){t.state("usersIndex",{url:"/users",templateUrl:"/templates/usersIndex.html",controller:"UsersIndexController as usersIndex"}).state("usersNew",{url:"/users/new",templateUrl:"/templates/usersNew.html",controller:"UsersNewController as usersNew"}).state("usersShow",{url:"/users/:id",templateUrl:"/templates/usersShow.html",controller:"UsersShowController as usersShow"}).state("usersEdit",{url:"/users/:id/edit",templateUrl:"/templates/usersEdit.html",controller:"UsersEditController as usersEdit"}).state("register",{url:"/register",templateUrl:"/templates/register.html",controller:"RegisterController as register"}).state("login",{url:"/login",templateUrl:"/templates/login.html",controller:"LoginController as login"}).state("logout",{url:"logout",templateUrl:"/templates/logout.html",controller:"LogoutController as logout"}).state("animalsIndex",{url:"/animals",templateUrl:"/templates/animalsIndex.html",controller:"AnimalsIndexController as animalsIndex"}).state("animalsShow",{url:"/animals/:id",templateUrl:"/templates/animalsShow.html",controller:"AnimalsShowController as animalsShow"}).state("animalsEdit",{url:"/animals/:id/edit",templateUrl:"/templates/animalsEdit.html",controller:"AnimalsEditController as animalsEdit"}).state("adoptsIndex",{url:"/adopts",templateUrl:"/templates/adoptsIndex.html",controller:"AdoptsIndexController as adoptsIndex"}).state("adoptsShow",{url:"/adopts/:id",templateUrl:"/templates/adoptsShow.html",controller:"AdoptsShowController as adoptsShow"}).state("adoptsEdit",{url:"/adopts/:id/edit",templateUrl:"/templates/adoptsEdit.html",controller:"AdoptsEditController as adoptsEdit"}),e.otherwise("/animals")}function User(t,e){return new t(e+"/users/:id",{id:"@id"},{update:{method:"PUT"}})}function UsersIndexController(t){var e=this;e.all=t.query()}function UsersShowController(t,e){function o(){r.user.$remove(function(){e.go("usersIndex")})}var r=this;r.user=t.get(e.params),r.delete=o}function UsersEditController(t,e){function o(){r.user.$update(function(){e.go("usersShow",e.params)})}var r=this;r.user=t.get(e.params),this.update=o}angular.module("finalProject",["ngResource","ui.router","satellizer"]).constant("API_URL","http://localhost:3000/api").config(Auth),Auth.$inject=["$authProvider","API_URL"],angular.module("finalProject").factory("Adopt",Adopt),Adopt.$inject=["$resource","API_URL"],angular.module("finalProject").controller("AdoptsIndexController",AdoptsIndexController).controller("AdoptsShowController",AdoptsShowController).controller("AdoptsEditController",AdoptsEditController),AdoptsIndexController.$inject=["Adopt"],AdoptsShowController.$inject=["Adopt","$state"],AdoptsEditController.$inject=["Adopt","$state"],angular.module("finalProject").factory("Animal",Animal),Animal.$inject=["$resource","API_URL"],angular.module("finalProject").controller("AnimalsIndexController",AnimalsIndexController).controller("AnimalsShowController",AnimalsShowController).controller("AnimalsEditController",AnimalsEditController),AnimalsIndexController.$inject=["Animal"],AnimalsShowController.$inject=["Animal","$state","Adopt"],AnimalsEditController.$inject=["Animal","$state"],angular.module("finalProject").controller("RegisterController",RegisterController).controller("LoginController",LoginController),RegisterController.$inject=["$auth","$state"],LoginController.$inject=["$auth","$state"],angular.module("finalProject").controller("MainController",MainController),MainController.$inject=["$auth","$state","$rootScope"],angular.module("finalProject").config(Router),Router.$inject=["$stateProvider","$urlRouterProvider"],angular.module("finalProject").factory("User",User),User.$inject=["$resource","API_URL"],angular.module("finalProject").controller("UsersIndexController",UsersIndexController).controller("UsersShowController",UsersShowController).controller("UsersEditController",UsersEditController),UsersIndexController.$inject=["User"],UsersShowController.$inject=["User","$state"],UsersEditController.$inject=["User","$state"];
//# sourceMappingURL=app.js.map
